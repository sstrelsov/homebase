import{t as U,r as i,G as q,l as H,w as J,n as Q,x as X,y as L,s as R,z as Y,j as I}from"./index-Uz8SC1VW.js";var B=U({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]});function ee(d={}){const{loading:u,src:o,srcSet:a,onLoad:e,onError:t,crossOrigin:p,sizes:m,ignoreFallback:l}=d,[f,s]=i.useState("pending");i.useEffect(()=>{s(o?"loading":"pending")},[o]);const c=i.useRef(),b=i.useCallback(()=>{if(!o)return;n();const r=new Image;r.src=o,p&&(r.crossOrigin=p),a&&(r.srcset=a),m&&(r.sizes=m),u&&(r.loading=u),r.onload=g=>{n(),s("loaded"),e==null||e(g)},r.onerror=g=>{n(),s("failed"),t==null||t(g)},c.current=r},[o,p,a,m,e,t,u]),n=()=>{c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)};return q(()=>{if(!l)return f==="loading"&&b(),()=>{n()}},[f,b,l]),l?"loaded":f}function re(d){var u,o;const a=H(),[e,t]=J(d,B.variantKeys),{ref:p,as:m,src:l,className:f,classNames:s,loading:c,isBlurred:b,fallbackSrc:n,isLoading:r,disableSkeleton:g=!!n,removeWrapper:O=!1,onError:M,onLoad:Z,srcSet:k,sizes:y,crossOrigin:x,...v}=e,S=ee({src:l,loading:c,onError:M,onLoad:Z,ignoreFallback:!1,srcSet:k,sizes:y,crossOrigin:x}),z=(o=(u=d.disableAnimation)!=null?u:a==null?void 0:a.disableAnimation)!=null?o:!1,W=S==="loaded"&&!r,E=S==="loading"||r,_=d.isZoomed,$=m||"img",N=Q(p),{w:P,h:F}=i.useMemo(()=>({w:e.width?typeof e.width=="number"?`${e.width}px`:e.width:"fit-content",h:e.height?typeof e.height=="number"?`${e.height}px`:e.height:"auto"}),[e==null?void 0:e.width,e==null?void 0:e.height]),j=(!l||!W)&&!!n,A=E&&!g,h=i.useMemo(()=>B({...t,disableAnimation:z,showSkeleton:A}),[X(t),z,A]),V=L(f,s==null?void 0:s.img),D=(w={})=>{const G=L(V,w==null?void 0:w.className);return{src:l,ref:N,"data-loaded":R(W),className:h.img({class:G}),loading:c,srcSet:k,sizes:y,crossOrigin:x,...v,style:{...(v==null?void 0:v.height)&&{height:F},...w.style,...v.style}}},K=i.useCallback(()=>{const w=j?{backgroundImage:`url(${n})`}:{};return{className:h.wrapper({class:s==null?void 0:s.wrapper}),style:{...w,maxWidth:P}}},[h,j,n,s==null?void 0:s.wrapper,P]),T=i.useCallback(()=>({src:l,"aria-hidden":R(!0),className:h.blurredImg({class:s==null?void 0:s.blurredImg})}),[h,l,s==null?void 0:s.blurredImg]);return{Component:$,domRef:N,slots:h,classNames:s,isBlurred:b,disableSkeleton:g,fallbackSrc:n,removeWrapper:O,isZoomed:_,isLoading:E,getImgProps:D,getWrapperProps:K,getBlurredImgProps:T}}var C=Y((d,u)=>{const{Component:o,domRef:a,slots:e,classNames:t,isBlurred:p,isZoomed:m,fallbackSrc:l,removeWrapper:f,disableSkeleton:s,getImgProps:c,getWrapperProps:b,getBlurredImgProps:n}=re({...d,ref:u}),r=I.jsx(o,{ref:a,...c()});if(f)return r;const g=I.jsx("div",{className:e.zoomedWrapper({class:t==null?void 0:t.zoomedWrapper}),children:r});return p?I.jsxs("div",{...b(),children:[m?g:r,i.cloneElement(r,n())]}):m||!s||l?I.jsxs("div",{...b(),children:[" ",m?g:r]}):r});C.displayName="NextUI.Image";var ae=C;const se={xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},te=d=>{const[u,o]=i.useState(!1);return i.useEffect(()=>{function a(){const e=window.innerWidth>=se[d];o(t=>t!==e?e:t)}return window.addEventListener("resize",a),a(),()=>window.removeEventListener("resize",a)},[d]),u};export{ae as i,te as u};
