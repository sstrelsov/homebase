"use strict";(self.webpackChunkhomebase=self.webpackChunkhomebase||[]).push([[156],{9156:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var o=n(6580),r=n(5096),s=n(8711),i=n(5043),a=n(1893),l=n(9379),c=n(9645),u=n(1177),m=n(3408),d=n(9435),f=n(2186),h=n(2851);const p=n(3003).d4;function g(e){return e.flatMap((e=>function(e){const t=[];for(let n=0;n<e.length-1;n++)t.push({start:e[n],end:e[n+1]});return t}(e.legs)))}function v(e){if(0===e.length)return[];const t=[];t.push(e[0].start);for(let n=0;n<e.length;n++)t.push(e[n].end);return t}const x=[{id:"nyc-dallas",title:"NYC \u2192 Dallas",description:"A short trip to Dallas to escape the winter cold.",startDate:"2021-01-05",endDate:"2021-01-10",images:["https://example.com/dallas1.jpg","https://example.com/dallas2.jpg"],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:32.7767,lon:-96.797,name:"Dallas",iso:"USA"}]},{id:"nyc-sf",title:"NYC \u2192 San Francisco",description:"Coast-to-coast weekend getaway.",startDate:"2021-02-10",endDate:"2021-02-15",images:["https://example.com/sf1.jpg","https://example.com/sf2.jpg"],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:37.7749,lon:-122.4194,name:"San Francisco",iso:"USA"}]},{id:"nyc-louisville-1",title:"NYC \u2192 Louisville",description:"A quick trip for bourbon and horse racing.",startDate:"2021-03-05",endDate:"2021-03-10",images:["https://example.com/louisville1.jpg"],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:38.2527,lon:-85.7585,name:"Louisville",iso:"USA"}]},{id:"nyc-seattle",title:"NYC \u2192 Seattle",description:"Coffee and rain in the Pacific Northwest.",startDate:"2021-04-01",endDate:"2021-04-07",images:[],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:47.6062,lon:-122.3321,name:"Seattle",iso:"USA"}]},{id:"nyc-bogota-cumaral-cartagena",title:"NYC \u2192 Bogota \u2192 Cumaral \u2192 Cartagena",description:"Exploring Colombia, from the capital to the countryside to the coast.",startDate:"2021-05-10",endDate:"2021-05-25",images:["https://example.com/bogota.jpg","https://example.com/cartagena.jpg"],countries:["COL"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:4.711,lon:-74.0721,name:"Bogota",iso:"COL"},{lat:4.2702,lon:-73.4772,name:"Cumaral",iso:"COL"},{lat:10.391,lon:-75.4794,name:"Cartagena",iso:"COL"}]},{id:"nyc-destin",title:"NYC \u2192 Destin",description:"Relaxing on the Emerald Coast.",startDate:"2021-06-01",endDate:"2021-06-05",images:["https://example.com/destin.jpg"],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:30.3935,lon:-86.4958,name:"Destin",iso:"USA"}]},{id:"nyc-sanjose",title:"NYC \u2192 San Jose, CA",description:"Visiting Silicon Valley.",startDate:"2021-07-01",endDate:"2021-07-07",images:[],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:37.3382,lon:-121.8863,name:"San Jose, CA",iso:"USA"}]},{id:"nyc-nashville-louisville",title:"NYC \u2192 Nashville \u2192 Louisville",description:"From Music City to Derby City.",startDate:"2021-08-10",endDate:"2021-08-20",images:["https://example.com/nashville.jpg","https://example.com/louisville2.jpg"],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:36.1627,lon:-86.7816,name:"Nashville",iso:"USA"},{lat:38.2527,lon:-85.7585,name:"Louisville",iso:"USA"}]},{id:"nyc-london-zurich-copenhagen-bern",title:"NYC \u2192 London \u2192 Zurich \u2192 Copenhagen \u2192 Bern",description:"European adventure through the UK, Switzerland, and Denmark.",startDate:"2021-09-05",endDate:"2021-09-25",images:["https://example.com/london.jpg","https://example.com/zurich.jpg"],countries:["GBR","CHE","DNK"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:51.5074,lon:-.1278,name:"London",iso:"GBR"},{lat:47.3769,lon:8.5417,name:"Zurich",iso:"CHE"},{lat:55.6761,lon:12.5683,name:"Copenhagen",iso:"DNK"},{lat:46.948,lon:7.4474,name:"Bern",iso:"CHE"}]},{id:"nyc-reykjavik",title:"NYC \u2192 Reykjavik",description:"Checking out Iceland's capital city.",startDate:"2021-10-01",endDate:"2021-10-05",images:["https://example.com/reykjavik.jpg"],countries:["ISL"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:64.1466,lon:-21.9426,name:"Reykjavik",iso:"ISL"}]},{id:"nyc-louisville-2",title:"NYC \u2192 Louisville",description:"A second trip back for more Kentucky experiences.",startDate:"2021-11-01",endDate:"2021-11-05",images:[],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:38.2527,lon:-85.7585,name:"Louisville",iso:"USA"}]},{id:"nyc-louisville-3",title:"NYC \u2192 Louisville (Part 3)",description:"Yet another Louisville trip.",startDate:"2021-12-05",endDate:"2021-12-10",images:["https://example.com/louisville3.jpg"],countries:["USA"],legs:[{lat:40.7128,lon:-74.006,name:"New York City",iso:"USA"},{lat:38.2527,lon:-85.7585,name:"Louisville",iso:"USA"}]}],y=(e,t,n)=>{const o=(90-e)*(Math.PI/180),r=(t+180)*(Math.PI/180),s=-n*Math.sin(o)*Math.cos(r),i=n*Math.sin(o)*Math.sin(r),a=n*Math.cos(o);return new d.Pq0(s,a,i)};var j=n(579);const w=e=>{let{flights:t,color:n,radius:o,behavior:r}=e;const[s,a]=(0,i.useState)(r?0:1);(0,i.useEffect)((()=>{if("flicker"===r){let e=0;const t=100,n=1e3,o=setInterval((()=>{e+=t,a(Math.random()<.5?0:1),e>=n&&(clearInterval(o),a(1))}),t);return()=>clearInterval(o)}if("smooth"===r){let e=null;const t=performance.now(),n=1e3,o=r=>{const s=r-t,i=Math.min(s/n,1);a(i),i<1&&(e=requestAnimationFrame(o))};return e=requestAnimationFrame(o),()=>{e&&cancelAnimationFrame(e)}}a(1)}),[r]);const l=(0,i.useMemo)((()=>t.map((e=>((e,t,n,o,r)=>{const s=y(e,t,r),i=y(n,o,r),a=(new d.Pq0).addVectors(s,i).multiplyScalar(.5),l=1.5*s.distanceTo(i);a.setLength(a.length()+l);const c=(new d.Pq0).lerpVectors(s,a,.25),u=(new d.Pq0).lerpVectors(s,a,.75),m=new d.s0K(s,c,u,i);return new d.j6(m,64,.5,8,!1)})(e.start.lat,e.start.lon,e.end.lat,e.end.lon,o)))),[t,o]);return(0,j.jsx)(j.Fragment,{children:l.map(((e,t)=>(0,j.jsx)("mesh",{geometry:e,children:(0,j.jsx)("meshBasicMaterial",{color:n,transparent:!0,opacity:s})},t)))})},A=e=>{let{position:t,color:n,onDone:o}=e;const r=(0,i.useRef)(null),s=(0,i.useRef)(null),a=(0,i.useRef)(null),l=1.3,[c,m]=(0,i.useState)(0),[f,h]=(0,i.useState)(0),[p,g]=(0,i.useState)(1);return(0,i.useEffect)((()=>{if(0===t.lengthSq())return;const e=t.clone().normalize(),n=new d.Pq0(0,0,1),o=(new d.PTz).setFromUnitVectors(n,e);r.current.quaternion.copy(o)}),[t]),(0,u.F)((()=>{m(c+.06*(1-c));const e=f+.06*(1-f);h(e);g(1-e),e>.98&&(null===o||void 0===o||o())})),(0,j.jsxs)("group",{ref:r,position:t,children:[(0,j.jsxs)("mesh",{ref:s,scale:[c*l,c*l,c*l],children:[(0,j.jsx)("circleGeometry",{args:[1.5,64]}),(0,j.jsx)("meshBasicMaterial",{color:n,transparent:!0,opacity:1})]}),(0,j.jsxs)("mesh",{ref:a,scale:[f*l,f*l,f*l],children:[(0,j.jsx)("ringGeometry",{args:[5,6,64]}),(0,j.jsx)("meshBasicMaterial",{color:n,transparent:!0,opacity:p,side:d.$EB,depthTest:!0})]})]})};class S extends d.Ipv{constructor(e,t,n){super(),this.baseCurve=void 0,this.minT=void 0,this.maxT=void 0,this.baseCurve=e,this.minT=t,this.maxT=n}getPoint(e,t){const n=this.minT+(this.maxT-this.minT)*e;return this.baseCurve.getPoint(n,t)}}const C=e=>{let{color:t,startLat:n,startLon:o,endLat:r,endLon:s,radius:a,animationDuration:l=2500,onDone:c,onProgressPersist:m=!1}=e;const f=(0,i.useRef)(null),h=(0,i.useRef)(null),[p,g]=(0,i.useState)(!1),[v]=(0,i.useState)((()=>performance.now())),[x,w]=(0,i.useState)(!1),C=(0,i.useMemo)((()=>y(n,o,a)),[n,o,a]),P=(0,i.useMemo)((()=>y(r,s,a)),[r,s,a]),D=(0,i.useMemo)((()=>{const e=(new d.Pq0).addVectors(C,P).multiplyScalar(.5),t=C.distanceTo(P);e.setLength(e.length()+t);const n=(new d.Pq0).lerpVectors(C,e,.25),o=(new d.Pq0).lerpVectors(C,e,.75);return new d.s0K(C,n,o,P)}),[C,P]),b=(0,i.useMemo)((()=>new d.j6(D,64,.5,8,!1)),[D]);return(0,i.useMemo)((()=>{h.current=b}),[b]),(0,u.F)((()=>{if(p)return;let e=(performance.now()-v)/l;if(e>1&&(e=1),m){const t=h.current.index?h.current.index.count:h.current.attributes.position.count,n=Math.floor(t*e);h.current.setDrawRange(0,n),e>=1&&(h.current.setDrawRange(0,t),x||w(!0),g(!0),null===c||void 0===c||c())}else{if(!f.current)return;let t=0,n=0;e<=.5?(t=e/.5,n=0):(t=1,n=(e-.5)/.5,x||w(!0));const o=n,r=t;if(r<=o)f.current.visible=!1;else{f.current.visible=!0;const e=new S(D,o,r),t=new d.j6(e,64,.5,8,!1);f.current.geometry&&f.current.geometry.dispose(),f.current.geometry=t}e>=1&&(f.current.visible=!1,g(!0),null===c||void 0===c||c())}})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("mesh",{ref:f,children:[m?(0,j.jsx)("primitive",{object:b,attach:"geometry"}):null,(0,j.jsx)("meshBasicMaterial",{color:t,transparent:!0,opacity:.9})]}),x&&(0,j.jsx)(A,{position:P,color:"#dd6ff0",onDone:()=>w(!1)})]})};function P(e){return Math.floor(Math.random()*e)}function D(e){let{locationArray:t,color:n,radius:o,animationDuration:r=2500,firstAnimationDuration:s,onProgressPersist:a=!0,onAllArcsDone:l="persist",persistArcBehavior:c,infiniteRandom:u=!1,spawnInterval:m=1500}=e;const[d,f]=(0,i.useState)([]),[h,p]=(0,i.useState)([]),[g,x]=(0,i.useState)([]),[y,A]=(0,i.useState)(!1),[S,D]=(0,i.useState)(0),b=(0,i.useRef)(null),M=()=>{const e=v(t),n=[];for(let t=0;t<e.length-1;t++)n.push({start:e[t],end:e[t+1]});f(n),p(Array(n.length).fill(!1)),x(Array(n.length).fill(!1)),D(0),A(!1)},N=()=>{const e=v(t);f([]),p([]),x([]),A(!1),b.current||(b.current=setInterval((()=>{const t=function(e){const t=P(e.length);let n=P(e.length);for(;n===t;)n=P(e.length);return{start:e[t],end:e[n]}}(e);f((e=>[...e,t])),p((e=>[...e,!1])),x((e=>[...e,!1]))}),m))};return(0,i.useEffect)((()=>(u?N():M(),()=>{b.current&&(clearInterval(b.current),b.current=null)})),[u,m]),(0,i.useEffect)((()=>{d.forEach(((e,t)=>{if(!h[t]){const e=200*Math.random();setTimeout((()=>{p((e=>{const n=[...e];return n[t]=!0,n}))}),e)}}))}),[d,h]),(0,i.useEffect)((()=>{if(!u&&S===d.length&&d.length>0)switch(l){case"remove":x(Array(d.length).fill(!0));break;case"reset":setTimeout((()=>{M()}),500);break;case"persist":A(!0)}}),[S,d.length,l,u]),(0,i.useEffect)((()=>{if(u&&!a){const e=d.filter(((e,t)=>!g[t]));if(e.length!==d.length){f(e);const t=[],n=[];d.forEach(((e,o)=>{g[o]||(t.push(h[o]),n.push(g[o]))})),p(t),x(n)}}}),[g,d,u,a]),(0,j.jsxs)(j.Fragment,{children:[y&&(0,j.jsx)(w,{flights:d,color:n,radius:o+.1,behavior:c}),!y&&d.map(((e,t)=>{if(!h[t])return null;if(g[t]&&!a)return null;const i=0===t&&s?s:r;return(0,j.jsx)(C,{color:n,startLat:e.start.lat,startLon:e.start.lon,endLat:e.end.lat,endLon:e.end.lon,radius:o+.1,onProgressPersist:a,animationDuration:i,onDone:()=>{x((e=>{const n=[...e];return n[t]=!0,n})),D((e=>e+1))}},t)}))]})}const b={uniforms:{uColor:{value:new d.Q1f("#00aaff")},uIntensity:{value:1},uPower:{value:2},uOpacity:{value:.3}},vertexShader:"\n    varying vec3 vNormal;\n    varying vec3 vWorldPos;\n\n    void main() {\n      // Flip the normal so it faces outward on a back-sided sphere\n      vNormal = -normalize(normal);\n\n      vec4 worldPos = modelMatrix * vec4(position, 1.0);\n      vWorldPos = worldPos.xyz;\n\n      gl_Position = projectionMatrix * viewMatrix * worldPos;\n    }\n  ",fragmentShader:"\n    uniform vec3 uColor;\n    uniform float uIntensity;\n    uniform float uPower;\n    uniform float uOpacity;\n    \n    varying vec3 vNormal;\n    varying vec3 vWorldPos;\n\n    void main() {\n      // Calculate the view direction from fragment to camera\n      vec3 viewDir = normalize(cameraPosition - vWorldPos);\n\n      // Because we flipped the normal, this is a more direct Fresnel\n      float fresnelTerm = dot(vNormal, viewDir);\n      fresnelTerm = clamp(fresnelTerm, 0.0, 1.0);\n\n      // Exponential falloff\n      float intensity = pow(fresnelTerm, uPower) * uIntensity;\n\n      // Final color with alpha\n      gl_FragColor = vec4(uColor, intensity * uOpacity);\n    }\n  "},M=e=>{let{earthRadius:t,color:n,opacity:o}=e;const r=(0,i.useRef)(null);return(0,j.jsxs)("mesh",{ref:r,children:[(0,j.jsx)("sphereGeometry",{args:[154.5,64,64]}),(0,j.jsx)("shaderMaterial",{side:d.hsX,transparent:!0,depthWrite:!1,blending:d.EZo,uniforms:(0,l.A)((0,l.A)({},b.uniforms),{},{uColor:{value:new d.Q1f(n)},uIntensity:{value:1},uPower:{value:1.5},uOpacity:{value:o}}),vertexShader:b.vertexShader,fragmentShader:b.fragmentShader})]})},N=e=>{let{radius:t}=e;return(0,j.jsxs)("mesh",{children:[(0,j.jsx)("sphereGeometry",{args:[t,64,64]}),(0,j.jsx)("meshPhongMaterial",{color:"#533f7b",emissive:"#24083c",shininess:5,emissiveIntensity:.4,specular:2236962})]})};var R=n(8270);const k=e=>{let{isoA3:t,dots:n}=e;const o=n.filter((e=>e.isoA3===t));if(!o.length)return null;let r=0,s=0,i=0;for(const l of o)r+=l.x,s+=l.y,i+=l.z;const a=o.length;return new d.Pq0(r/a,s/a,i/a)},U=e=>{let{camera:t,controls:n,targetPos:o,distanceOffset:r=300}=e;const s=o.clone().normalize().multiplyScalar(o.length()+r);R.Ay.to(t.position,{x:s.x,y:s.y,z:s.z,duration:1.5,ease:"power1",onUpdate:()=>{n.update()}})};const L=e=>{let{jsonUrl:t,pointSize:n,onCountrySelect:o,onLoaded:r,dotColor:s,highlightColor:l,globeRef:c,controlsRef:m,cameraRef:f}=e;const g=p(h.mo),[v,x]=(0,i.useState)([]),y=(0,i.useRef)(null),w=(0,a.A)("sm"),[A,S,C]=(0,i.useMemo)((()=>{const e=new d.Q1f(s);return[e.r,e.g,e.b]}),[s]),[P,D,b]=(0,i.useMemo)((()=>{const e=new d.Q1f(l);return[e.r,e.g,e.b]}),[l]);(0,i.useEffect)((()=>{(async()=>{try{const e=await fetch(t),n=await e.json();console.log("Loaded landDots.json:",n),x(n),null===r||void 0===r||r(!0)}catch(e){console.error("Failed to load landDots.json:",e)}})()}),[t]);const M=(0,i.useCallback)((e=>{if(null===m||void 0===m||!m.current||null===f||void 0===f||!f.current||null===c||void 0===c||!c.current)return;const t=k({isoA3:e,dots:v});if(!t)return;const n=t.clone();c.current.localToWorld(n),U({camera:f.current,controls:m.current,targetPos:n,distanceOffset:w?380:480})}),[f,m,c,v]);(0,i.useEffect)((()=>{g&&0!==v.length?(y.current=g,null!==c&&void 0!==c&&c.current&&M(g)):y.current=null}),[g,v,c,M]);const N=(0,i.useMemo)((()=>{if(!v.length)return new Float32Array(0);const e=v.flatMap((e=>[e.x,e.y,e.z]));return new Float32Array(e)}),[v]),R=(0,i.useMemo)((()=>{if(!v.length)return new Float32Array(0);const e=[];for(let t=0;t<v.length;t++)e.push(A,S,C);return new Float32Array(e)}),[v,A,S,C]),L=(0,i.useRef)(null);return(0,u.F)((()=>{if(!L.current||!v.length)return;const e=L.current.array;for(let t=0;t<v.length;t++){const n=v[t],o=3*t;y.current===n.isoA3?(e[o]=P,e[o+1]=D,e[o+2]=b):(e[o]=A,e[o+1]=S,e[o+2]=C)}L.current.needsUpdate=!0})),v.length?(0,j.jsxs)("points",{children:[(0,j.jsxs)("bufferGeometry",{children:[(0,j.jsx)("bufferAttribute",{attach:"attributes-position",args:[N,3],count:N.length/3,itemSize:3}),(0,j.jsx)("bufferAttribute",{ref:L,attach:"attributes-color",args:[R,3],count:R.length/3,itemSize:3})]}),(0,j.jsx)("pointsMaterial",{vertexColors:!0,size:n,sizeAttenuation:!0,transparent:!0,opacity:.8})]}):null};function z(e){let{radius:t=151,scaleFactor:n=1.001,color:o="#f4bcf6",power:r=5,intensity:s=1.5,opacity:a=.5}=e;const l=(0,i.useRef)(null);return(0,j.jsxs)("mesh",{ref:l,scale:[n,n,n],rotation:[.03*Math.PI,.03*Math.PI,0],children:[(0,j.jsx)("sphereGeometry",{args:[t,128,128]}),(0,j.jsx)("shaderMaterial",{vertexShader:"\n          varying vec3 vNormal;\n          varying vec3 vViewPosition;\n          \n          void main() {\n            vNormal = normalize(normalMatrix * normal);\n            vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n            vViewPosition = -mvPosition.xyz;\n            gl_Position = projectionMatrix * mvPosition;\n          }\n        ",fragmentShader:"\n          uniform vec3 uColor;\n          uniform float uIntensity;\n          uniform float uOpacity;\n          uniform float uPower;\n          \n          varying vec3 vNormal;\n          varying vec3 vViewPosition;\n          \n          void main() {\n            vec3 normal = normalize(vNormal);\n            vec3 viewDir = normalize(vViewPosition);\n            \n            float rim = 1.0 - abs(dot(viewDir, normal));\n            rim = pow(rim, uPower) * uIntensity;\n            \n            gl_FragColor = vec4(uColor * rim, rim * uOpacity);\n          }\n        ",uniforms:{uColor:{value:new d.Q1f(o)},uIntensity:{value:s},uOpacity:{value:a},uPower:{value:r}},transparent:!0,side:d.hsX,depthWrite:!1,blending:d.EZo})]})}const F=e=>{let{radius:t,rotationSpeed:n=.05,arcs:o,atmosphere:r,dots:s,cityMarkers:g}=e;const v=(0,i.useRef)(null),y=(0,a.A)("md"),w=(0,a.A)("sm"),A=(0,a.A)("xs");let S=1;S=y?1:w?.8:A?.7:.6;const[C,P]=(0,i.useState)(.55),[b,R]=(0,i.useState)(!1),k=p(h.mo),[U,F]=(0,i.useState)([]),[I,E]=(0,i.useState)(0);(0,i.useEffect)((()=>{if(F([]),!k)return;const e=x.filter((e=>e.countries.includes(k)));E((e=>e+1));const t=e.flatMap((e=>function(e){const t=[],n=e.legs;for(let o=0;o<n.length-1;o++)t.push({start:n[o],end:n[o+1]});return t}(e)));F(t)}),[k]);const T=(0,i.useMemo)((()=>new d.O9p(0,0,0)),[]),[B,O]=(0,c.zh)((()=>({rotation:[0,0,0],config:{mass:1,friction:30,tension:50}}))),[V,q]=(0,i.useState)(!1),G=(0,m.i3)((e=>{let{offset:[t,n],active:o}=e;q(o);const r=.005*n,s=.005*t,i=d.cj9.clamp(r,-Math.PI/2,Math.PI/2);T.x=i,T.y=s,O.start({rotation:[T.x,T.y,0]})}));return(0,u.F)(((e,t)=>{V||(T.y+=.02*t,O.start({rotation:[T.x,T.y,0]}))})),(0,u.F)(((e,t)=>{V||k||(T.y+=n*t,O.start({rotation:[T.x,T.y,0]}));P((e=>(0,f.Cc)(e,S,2*t)))})),(0,j.jsxs)(c.a.group,(0,l.A)((0,l.A)({ref:v},G()),{},{rotation:B.rotation,scale:C,visible:b,children:[(0,j.jsx)(N,{radius:t-1}),!!r&&(0,j.jsx)(M,{earthRadius:t-2,color:r.color,opacity:r.opacity}),(0,j.jsx)(z,{radius:t}),!!s&&(0,j.jsx)(L,{jsonUrl:s.jsonUrl,dotColor:s.dotColor,pointSize:s.pointSize,onLoaded:e=>R(e),globeRef:v,controlsRef:s.controlsRef,cameraRef:s.cameraRef,highlightColor:s.highlightColor}),!!o&&!U.length&&(0,j.jsx)(D,{animationDuration:o.animationDuration,color:o.color,locationArray:o.locationArray,onAllArcsDone:o.onAllArcsDone,onProgressPersist:o.onProgressPersist,radius:o.radius,infiniteRandom:o.infiniteRandom,persistArcBehavior:o.persistArcBehavior}),U.length>0&&!!o&&(0,j.jsx)(D,{locationArray:U,color:o.color,radius:Y,firstAnimationDuration:1500,animationDuration:500,onProgressPersist:!1,onAllArcsDone:"remove",persistArcBehavior:void 0},I)]}))},I=e=>{let{axesHelperRef:t,cameraRef:n}=e;return(0,i.useEffect)((()=>{t.current&&(t.current.visible=!0)}),[t]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("primitive",{ref:t,object:new d.IzY(500).setColors("red","white","blue")}),(0,j.jsx)("gridHelper",{args:[1e3,50]}),(0,j.jsx)("primitive",{object:new d.IWo(new d.eaF(new d.Gu$(Y)))}),n.current&&(0,j.jsx)("primitive",{object:new d.WTh(n.current)}),(0,j.jsx)("polarGridHelper",{args:[Y,16,8,64]})]})},Y=150,E=e=>{let{enableHelpers:t}=e;const n=(0,i.useRef)(null),o=(0,i.useRef)(null),l=(0,i.useRef)(null),c=(0,a.A)("sm")?"/landDots-150rad-60k.json":"/landDots-150rad-30k.json",u=(0,a.A)("xl"),m=(0,a.A)("sm");return(0,j.jsxs)(s.Hl,{gl:{alpha:!0},style:{background:"transparent"},camera:{position:[0,400,900],fov:35},onCreated:e=>{l.current=e.camera,e.camera.updateProjectionMatrix();const t=u?.2*e.size.width:0,n=m?0:.07*e.size.height;e.camera.setViewOffset(e.size.width,e.size.height,t,n,e.size.width,e.size.height),e.raycaster.params.Points.threshold=2},children:[(0,j.jsx)(r.N,{ref:n,enableRotate:!1,enableDamping:!0,minDistance:300,minPolarAngle:.3,maxPolarAngle:Math.PI-.3,enablePan:!1,maxDistance:600}),(0,j.jsx)("directionalLight",{intensity:1.6,color:"#b3e2ff",position:[300,300,300]}),(0,j.jsx)("directionalLight",{intensity:2,color:"#df3dff",position:[-300,-100,-500]}),(0,j.jsx)("directionalLight",{intensity:1.8,color:"#ff7a3d",position:[-300,-300,-100]}),(0,j.jsx)("directionalLight",{intensity:1.8,color:"#ff7a3d",position:[300,100,-100]}),(0,j.jsx)("directionalLight",{intensity:1.4,color:"#8066ff",position:[-200,-200,-100]}),(0,j.jsx)("hemisphereLight",{intensity:.7,position:[100,100,0]}),(0,j.jsx)(i.Suspense,{fallback:null,children:(0,j.jsx)(F,{rotationSpeed:2e-4,radius:Y,dots:{dotColor:"#df8cfd",highlightColor:"#86d4fc",pointSize:2.5,jsonUrl:c,controlsRef:n,cameraRef:l},atmosphere:{color:"#00aaff",opacity:.03,earthRadius:Y},arcs:{locationArray:g(x),color:"#dd6ff0",radius:Y,animationDuration:1e3,onProgressPersist:!1,infiniteRandom:!0,persistArcBehavior:void 0},cityMarkers:{cities:v(g(x)),radius:Y,color:"#dd6ff0",markerSize:1}})}),t&&(0,j.jsx)(I,{axesHelperRef:o,cameraRef:l})]})},T=()=>{(function(e){Array.from(new Set(e.flatMap((e=>{var t;return null!==(t=e.countries)&&void 0!==t?t:[]}))))})(x),Array.from(new Set(v(g(x))));return(0,j.jsxs)("div",{className:"relative w-full h-full",children:[(0,j.jsx)("div",{className:"absolute inset-0 pointer-events-auto",children:(0,j.jsx)(E,{})}),(0,j.jsx)("div",{className:"flex absolute top-0 right-0 w-full lg:w-1/2 h-full items-end lg:items-center justify-center pointer-events-none z-10",children:(0,j.jsxs)("div",{className:"flex flex-col pointer-events-auto text-2xl items-center px-2 pb-8 sm:text-4xl sm:flex-start lg:pb-0 sm:px-0",children:[(0,j.jsx)("div",{className:"flex mb-2 sm:mb-4",children:"Travels in 2024"}),(0,j.jsx)("div",{className:"flex flex-row gap-2"})]})})]})},B=()=>{const{projectSlug:e}=(0,o.g)();return"earth"===e?(0,j.jsx)(T,{}):(0,j.jsx)("div",{children:"Oops! Project not found."})}},1893:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(5043);const r={xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},s=e=>{const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{function t(){const t=window.innerWidth>=r[e];n((e=>e!==t?t:e))}return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)}),[e]),t}}}]);
//# sourceMappingURL=156.c52c978d.chunk.js.map